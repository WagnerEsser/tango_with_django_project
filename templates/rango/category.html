{% extends 'rango/base.html' %}

{% load staticfiles %}

{% block title %}{{ category.name }}{% endblock %}

{% block body_block %}

    {% if category %} <!-- 'category' >> é um objeto Category -->
        <div class="page-header">
            <h1>{{ category.name }}</h1>
        </div>

        {% if pages %} <!-- 'pages' >> é um dicionário de objetos Page -->
            <div class="list-group col-sm-4">
                {% for page in pages %}
                    <a type='button' class='list-group-item' href="{{page.url}}">
                        {{ page.title }}
                        <span class="badge">{{ page.views }}</span>
                    </a>
                {% endfor %}
            </div>
        {% else %}
            <p><strong>Sem páginas nesta categoria.</strong></p>
        {% endif %}

        {% if user.is_authenticated %}
            <div class="list-group col-sm-12">
                <a href="{% url 'rango:add_page' category.slug %}" class='btn btn-success'>Adicionar página</a>
            </div>
        {% endif %}
    {% else %}
        <p class="bg-danger text-danger" style="padding:10px;"><strong>Essa categoria não existe</strong></p>
    {% endif %}

{% endblock %}